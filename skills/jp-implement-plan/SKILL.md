---
name: jp-implement-plan
description: 技術計画をフェーズごとに検証しながら実装します。承認された実装計画があり、体系的に実行する必要がある場合に使用します。
compatibility: GitHub Copilot CLI用に設計
metadata:
  author: humanlayer
  version: "1.0"
  original-source: https://github.com/humanlayer/humanlayer
---

# 計画の実装

承認された技術計画を実装するタスクです。これらの計画には、具体的な変更と成功基準を含むフェーズが含まれています。

## 開始方法

計画のパスが指定された場合：
- 計画を完全に読み込み、既存のチェックマーク（`- [x]`）を確認する
- 計画に記載されているすべてのファイルを読み込む
- **ファイルを完全に読み込む** - 完全なコンテキストが必要
- 各部分がどのように組み合わさるかを深く考える
- `update_todo` を使用して進捗を追跡する
- 何をすべきか理解したら実装を開始する

計画のパスが提供されていない場合は、パスを尋ねる。

## 実装の哲学

計画は慎重に設計されていますが、現実は複雑になる場合があります。あなたの仕事は：
- 見つけた状況に適応しながら計画の意図に従う
- 次のフェーズに進む前に各フェーズを完全に実装する
- 作業がより広いコードベースのコンテキストで意味があるか検証する
- セクションを完了するたびに計画のチェックボックスを更新する

計画と完全に一致しない場合、なぜかを考えて明確にコミュニケーションする。計画はガイドですが、あなたの判断も重要です。

不一致に遭遇した場合：
- 停止して、なぜ計画に従えないかを深く考える
- 問題を明確に提示する：
  ```
  フェーズ[N]の問題：
  期待：[計画が示すこと]
  発見：[実際の状況]
  重要な理由：[説明]

  どのように進めるべきですか？
  ```

## 検証アプローチ

フェーズの実装後：
- 成功基準のチェック（通常はテスト、リンティング、型チェック）を実行する
- 先に進む前に問題を修正する
- 計画とToDoの両方で進捗を更新する
- `edit` を使用して計画ファイル自体の完了項目にチェックを入れる

**手動検証のための一時停止**：フェーズのすべての自動検証を完了した後、一時停止してフェーズが手動テストの準備ができていることをユーザーに通知する：

```
フェーズ[N]完了 - 手動検証の準備完了

自動検証が合格しました：
- [合格した自動チェックのリスト]

計画に記載されている手動検証ステップを実行してください：
- [計画からの手動検証項目のリスト]

手動テストが完了したらお知らせください。フェーズ[N+1]に進みます。
```

複数のフェーズを連続して実行するよう指示された場合、最後のフェーズまで一時停止をスキップする。それ以外の場合は、1つのフェーズのみを実行していると想定する。

ユーザーに確認されるまで手動テストステップの項目にチェックを入れない。

## 行き詰まった場合

期待通りに動作しない場合：
- まず、関連するすべてのコードを読んで理解しているか確認する
- 計画が作成されてからコードベースが変更されている可能性を考慮する
- 不一致を明確に提示し、ガイダンスを求める

サブタスクは控えめに使用する - 主にターゲットを絞ったデバッグや馴染みのない領域の探索に使用する。

## 作業の再開

計画に既存のチェックマークがある場合：
- 完了した作業が完了していることを信頼する
- 最初のチェックされていない項目から再開する
- 何かがおかしいと思われる場合にのみ以前の作業を検証する

覚えておいてください：あなたはソリューションを実装しているのであって、単にボックスにチェックを入れているわけではありません。最終目標を念頭に置き、前進の勢いを維持してください。
