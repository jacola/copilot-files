---
name: jp-commit
description: 明確でアトミックなメッセージでセッション変更のgitコミットを作成します。コーディングセッション中の変更をベストプラクティスに従ったコミットメッセージでコミットする必要がある場合に使用します。
compatibility: GitHub Copilot CLI用に設計
metadata:
  author: humanlayer
  version: "1.0"
  original-source: https://github.com/humanlayer/humanlayer
---

# 変更コミット

このセッション中に行われた変更に対してgitコミットを作成するタスクです。

## プロセス

### 1. 変更内容を考える
- 会話履歴を確認し、何が達成されたかを理解する
- `git status` を実行して現在の変更を確認する
- `git --no-pager diff` を実行して変更内容を理解する
- 変更を1つのコミットにまとめるか、複数の論理的なコミットに分けるかを検討する

### 2. コミットを計画する
- どのファイルをまとめるべきかを特定する
- 明確で説明的なコミットメッセージを作成する
- コミットメッセージには命令形を使用する（例：「Added feature」ではなく「Add feature」）
- 何を変更したかだけでなく、なぜ変更したかに焦点を当てる

### 3. ユーザーに計画を提示する
- 各コミットに追加するファイルをリストする
- 使用するコミットメッセージを表示する
- 「これらの変更で[N]件のコミットを作成する予定です。実行してもよろしいですか？」と確認する

### 4. 確認後に実行する
- `git add` で特定のファイルを指定する（`-A` や `.` は使用しない）
- 計画したメッセージで `git commit -m` を使用してコミットを作成する
- `git --no-pager log --oneline -n [number]` で結果を表示する

## 重要なガイドライン

- **共著者情報やAI帰属を追加しない**
- コミットはユーザーのみが作成者となるべきです
- 「AIで生成」などのメッセージを含めない
- 「Co-Authored-By」行を追加しない
- ユーザーが書いたかのようにコミットメッセージを書く
- 一時ファイル、テストスクリプト、または変更の一部でないファイルはコミットしない
- 関連する変更をまとめる
- 可能な限りコミットを焦点を絞ってアトミックに保つ
