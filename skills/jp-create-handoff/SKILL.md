---
name: jp-create-handoff
description: 作業を別のセッションに引き継ぐための引き継ぎドキュメントを作成します。セッション終了時に後で継続するための進捗を文書化する必要がある場合に使用します。
compatibility: GitHub Copilot CLI用に設計
metadata:
  author: humanlayer
  version: "1.0"
  original-source: https://github.com/humanlayer/humanlayer
---

# 引き継ぎドキュメント作成

新しいセッションの別のエージェントに作業を引き継ぐための引き継ぎドキュメントを作成するタスクです。徹底的でありながら**簡潔な**引き継ぎドキュメントを作成します。目標は、作業中の重要な詳細を失うことなく、コンテキストを圧縮して要約することです。

## プロセス

### 1. メタデータの収集

以下のコマンドを実行してコンテキストを収集します：
```bash
git rev-parse --short HEAD 2>/dev/null || echo "not-a-git-repo"
git branch --show-current 2>/dev/null || echo "unknown"
basename "$(git rev-parse --show-toplevel 2>/dev/null)" || basename "$PWD"
date -u +"%Y-%m-%dT%H:%M:%SZ"
```

### 2. 引き継ぎドキュメントの作成

以下の命名パターンでファイルを作成します：
- `YYYY-MM-DD_HH-MM-SS_description.md`
- 例：`2025-01-08_13-55-22_create-context-compaction.md`

以下のテンプレート構造を使用します：

```markdown
---
date: [ISO形式の現在の日時]
git_commit: [現在のコミットハッシュ]
branch: [現在のブランチ名]
repository: [リポジトリ名]
topic: "[機能/タスク名]"
tags: [implementation, 関連コンポーネント名]
status: [in-progress/complete/blocked]
---

# 引き継ぎ：[非常に簡潔な説明]

## タスク
[作業中のタスクの説明と各タスクのステータス（完了、作業中、計画/議論済み）。実装計画に取り組んでいる場合は、どのフェーズにいるかを明記する。作業元の計画ドキュメントや調査ドキュメントを参照する。]

## 重要な参照資料
[従うべき重要な仕様ドキュメント、アーキテクチャ上の決定、または設計ドキュメントをリストする。最も重要なファイルパスを2〜3件のみ含める。該当なしの場合は空欄にする。]

## 最近の変更
[file:line構文でコードベースへの最近の変更を説明する]

## 学んだこと
[学んだ重要なこと - 例：パターン、バグの根本原因、または作業を引き継ぐ人が知っておくべきその他の重要な情報。明示的なファイルパスを含める。]

## 成果物
[作成または更新した成果物のファイルパスおよび/またはfile:line参照の包括的なリスト - 例：機能ドキュメント、実装計画などのパス]

## アクションアイテムと次のステップ
[タスクとそのステータスに基づいて、次のエージェントが達成すべきアクションアイテムと次のステップのリスト]

## その他のメモ
[その他のメモ、参照、または有用な情報 - 例：コードベースの関連セクションの場所、または上記のカテゴリに該当しないその他の重要な学び]
```

### 3. ユーザーに提示する

引き継ぎドキュメント作成後、以下のように応答します：

```
引き継ぎドキュメントを作成しました！新しいセッションでこのファイルを共有して作業を再開できます：

[引き継ぎドキュメントのパス]
```

## 追加ガイドライン

- **少なすぎるよりも多い情報を** - このテンプレートは最低限を定義しています。必要に応じてさらに情報を追加してください
- **徹底的で正確に** - トップレベルの目標と低レベルの詳細の両方を含める
- **過度なコードスニペットを避ける** - 主要な変更の簡潔なスニペットは問題ありませんが、デバッグに必要でない限り大きなコードブロックは避ける
- **パスでファイルを参照する** - 重要でない限りファイルの全内容を含めない
